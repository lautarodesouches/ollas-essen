/* --- Variables & Core --- */
.galleryWrapper {
    width: 100%;
    position: relative;
    --primary: #FF6B00;
    --dot-bg: rgba(0, 0, 0, 0.3);
    --dot-active: #fff;
    --transition-curve: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* =========================================
   MOBILE CAROUSEL (< 768px)
   ========================================= */
.mobileCarousel {
    display: flex;
    overflow-x: scroll;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    width: 100%;
    aspect-ratio: 1 / 1; /* Square aspect ratio standard */
    scrollbar-width: none; /* Firefox */
}

.mobileCarousel::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
}

.snapItem {
    flex: 0 0 100%;
    width: 100%;
    height: 100%;
    scroll-snap-align: center;
    position: relative;
    overflow: hidden;
}

.mobileImage {
    object-fit: contain;
    width: 100%;
    height: 100%;
    padding: 1rem;
}

/* Dots Indicator */
.mobileIndicators {
    position: absolute;
    bottom: 1rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(4px);
    border-radius: 20px;
    z-index: 10;
}

.dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--dot-bg);
    transition: all 0.3s ease;
}

.dotActive {
    background: var(--primary);
    transform: scale(1.2);
}

/* =========================================
   DESKTOP GALLERY (>= 768px)
   ========================================= */
.desktopGallery {
    display: none; /* Hidden by default (mobile first) */
}

@media (min-width: 768px) {
    .mobileCarousel, .mobileIndicators {
        display: none;
    }

    .desktopGallery {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        width: 100%;
    }

    /* Main Stage */
    .mainStage {
        position: relative;
        width: 100%;
        aspect-ratio: 1/1; /* Or 4/3 depending on preference */
        background: #f8f8f8;
        border-radius: 16px;
        overflow: hidden;
        cursor: zoom-in;
        /* Premium shadow */
        box-shadow: 
            0 20px 40px -8px rgba(0,0,0,0.06),
            0 1px 2px rgba(0,0,0,0.04);
    }

    /* The Image Wrapper for Zoom */
    .zoomContainer {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        /* Dynamic CSS Variables for Zoom Origin */
        transform-origin: var(--x, 50%) var(--y, 50%);
        transition: transform 0.15s ease-out; /* Smooth follow */
    }

    .desktopImage {
        object-fit: contain;
        transition: opacity 0.3s ease;
        mix-blend-mode: multiply; /* Better integration with grey bg */
    }
    
    /* When hovering stage, scale up */
    .mainStage:hover .zoomContainer {
        transform: scale(2); /* 2x Zoom */
        cursor: crosshair;
    }

    /* Thumbnails Grid */
    .thumbnailsGrid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 0.75rem;
    }

    .thumbButton {
        position: relative;
        aspect-ratio: 1/1;
        border-radius: 8px;
        border: 2px solid transparent;
        overflow: hidden;
        background: #fff;
        cursor: pointer;
        opacity: 0.6;
        transition: all 0.2s var(--transition-curve);
    }

    .thumbButton:hover {
        opacity: 1;
        transform: translateY(-2px);
    }

    .thumbActive {
        opacity: 1;
        border-color: var(--primary);
        box-shadow: 0 4px 12px rgba(255, 107, 0, 0.15);
    }

    .thumbImg {
        object-fit: cover;
        padding: 4px;
    }
}